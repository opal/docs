<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>bash-comparison.js</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../../../../../../../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../../../../../../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../../../../../../../../css/github.css" type="text/css" media="screen" />
<script src="../../../../../../../../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../../../../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../../../../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../../../../../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            bash-comparison.js
        </h1>
        <ul class="files">
            <li>opal/stdlib/nodejs/node_modules/glob/node_modules/minimatch/node_modules/brace-expansion/test/bash-comparison.js</li>
            <li>Last modified: 2015-08-19 03:18:33 +0200</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>var test = require(&#39;tape&#39;); var expand = require(&#39;..&#39;); var
fs = require(&#39;fs&#39;); var resfile = __dirname +
&#39;/bash-results.txt&#39;; var <a href="cases_txt.html">cases</a> =
fs.readFileSync(resfile,
&#39;utf8&#39;).split(&#39;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&#39;);</p>

<p>// throw away the EOF marker <a href="cases_txt.html">cases</a>.pop()</p>

<p>test(&#39;matches bash expansions&#39;, function(t) {</p>

<pre><code>cases.forEach(function(testcase) {
  var set = testcase.split(&#39;\n&#39;);
  var pattern = set.shift();
  var actual = expand(pattern);

  // If it expands to the empty string, then it&#39;s actually
  // just nothing, but Bash is a singly typed language, so
  // &quot;nothing&quot; is the same as &quot;&quot;.
  if (set.length === 1 &amp;&amp; set[0] === &#39;&#39;) {
    set = []
  } else {
    // otherwise, strip off the [] that were added so that
    // &quot;&quot; expansions would be preserved properly.
    set = set.map(function (s) {
      return s.replace(/^\[|\]$/g, &#39;&#39;)
    })
  }

  t.same(actual, set, pattern);
});
t.end();</code></pre>

<p>})</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>

    </div>
  </body>
</html>
