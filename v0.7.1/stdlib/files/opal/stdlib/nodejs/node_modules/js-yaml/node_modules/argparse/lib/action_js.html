<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>action.js</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../../../../../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../../../../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../../../../../../css/github.css" type="text/css" media="screen" />
<script src="../../../../../../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../../../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            action.js
        </h1>
        <ul class="files">
            <li>opal/stdlib/nodejs/node_modules/js-yaml/node_modules/argparse/lib/action.js</li>
            <li>Last modified: 2015-08-19 03:18:33 +0200</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<pre><code>class Action

Base class for all actions
Do not call in your code, use this class only for inherits your own action

Information about how to convert command line strings to Javascript objects.
Action objects are used by an ArgumentParser to represent the information
needed to parse a single argument from one or more strings from the command
line. The keyword arguments to the Action constructor are also all attributes
of Action instances.

#####Alowed keywords:

- `store`
- `storeConstant`
- `storeTrue`
- `storeFalse`
- `append`
- `appendConstant`
- `count`
- `help`
- `version`

Information about action options see [[Action.new]]

See also [original guide](http://docs.python.org/dev/library/argparse.html#action)</code></pre>

<p>&#39;use strict&#39;;</p>

<p>// Constants var $$ = require(&#39;./const&#39;);</p>

<pre><code>new Action(options)

Base class for all actions. Used only for inherits

##### Options:

- `optionStrings`  A list of command-line option strings for the action.
- `dest`  Attribute to hold the created object(s)
- `nargs`  The number of command-line arguments that should be consumed.
By default, one argument will be consumed and a single value will be
produced.
- `constant`  Default value for an action with no value.
- `defaultValue`  The value to be produced if the option is not specified.
- `type`  Cast to &#39;string&#39;|&#39;int&#39;|&#39;float&#39;|&#39;complex&#39;|function (string). If
None, &#39;string&#39;.
- `choices`  The choices available.
- `required`  True if the action must always be specified at the command
line.
- `help`  The help describing the argument.
- `metavar`  The name to be used for the option&#39;s argument with the help
string. If None, the &#39;dest&#39; value will be used as the name.

##### nargs supported values:

- `N` (an integer) consumes N arguments (and produces a list)
- `?`  consumes zero or one arguments
- `*` consumes zero or more arguments (and produces a list)
- `+` consumes one or more arguments (and produces a list)

Note: that the difference between the default and nargs=1 is that with the
default, a single value will be produced, while with nargs=1, a list
containing a single value will be produced.</code></pre>

<p>var Action = module.exports = function Action(options) {</p>

<pre><code>options = options || {};
this.optionStrings = options.optionStrings || [];
this.dest = options.dest;
this.nargs = options.nargs !== undefined ? options.nargs : null;
this.constant = options.constant !== undefined ? options.constant : null;
this.defaultValue = options.defaultValue;
this.type = options.type !== undefined ? options.type : null;
this.choices = options.choices !== undefined ? options.choices : null;
this.required = options.required !== undefined ? options.required: false;
this.help = options.help !== undefined ? options.help : null;
this.metavar = options.metavar !== undefined ? options.metavar : null;

if (!(this.optionStrings instanceof Array)) {
  throw new Error(&#39;optionStrings should be an array&#39;);
}
if (this.required !== undefined &amp;&amp; typeof(this.required) !== &#39;boolean&#39;) {
  throw new Error(&#39;required should be a boolean&#39;);
}</code></pre>

<p>};</p>

<p>/**</p>

<pre><code>Action#getName -&gt; String

Tells action name
/</code></pre>

<p>Action.prototype.getName = function () {</p>

<pre><code>if (this.optionStrings.length &gt; 0) {
  return this.optionStrings.join(&#39;/&#39;);
} else if (this.metavar !== null &amp;&amp; this.metavar !== $$.SUPPRESS) {
  return this.metavar;
} else if (this.dest !== undefined &amp;&amp; this.dest !== $$.SUPPRESS) {
  return this.dest;
}
return null;</code></pre>

<p>};</p>

<p>/**</p>

<pre><code>Action#isOptional -&gt; Boolean

Return true if optional
/</code></pre>

<p>Action.prototype.isOptional = function () {</p>

<pre><code>return !this.isPositional();
</code></pre>

<p>};</p>

<p>/**</p>

<pre><code>Action#isPositional -&gt; Boolean

Return true if positional
/</code></pre>

<p>Action.prototype.isPositional = function () {</p>

<pre><code>return (this.optionStrings.length === 0);
</code></pre>

<p>};</p>

<p>/**</p>

<pre><code>Action#call(parser, namespace, values, optionString) -&gt; Void
- parser (ArgumentParser): current parser
- namespace (Namespace): namespace for output data
- values (Array): parsed values
- optionString (Array): input option string(not parsed)

Call the action. Should be implemented in inherited classes

##### Example

     ActionCount.prototype.call = function (parser, namespace, values, optionString) {
       namespace.set(this.dest, (namespace[this.dest] || 0) + 1);
     };

/</code></pre>

<p>Action.prototype.call = function () {</p>

<pre><code>throw new Error(&#39;.call() not defined&#39;);// Not Implemented error</code></pre>

<p>};</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>

    </div>
  </body>
</html>
