<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Opal::Fragment</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            Opal::Fragment 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/opal/lib/opal/fragment_rb.html">opal/lib/opal/fragment.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>A fragment holds a string of generated javascript that will be written to
the destination. It also keeps hold of the original sexp from which it was
generated. Using this sexp, when writing fragments in order, a mapping can
be created of the original location =&gt; target location, aka,
source-maps!</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-column">column</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-line">line</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-to_code">to_code</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>code</td>
            <td class='attr-desc'><p>String of javascript this fragment holds</p></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>(code, sexp = nil)
            
            <a href="../../classes/Opal/Fragment.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
                  | <a href="https://github.com/opal/opal/blob/c7ba09bf9616f2998b1b545f9e438b731bfa386c/lib/opal/fragment.rb#L11" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File opal/lib/opal/fragment.rb, line 11</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">code</span>, <span class="ruby-identifier">sexp</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-ivar">@code</span> = <span class="ruby-identifier">code</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-ivar">@sexp</span> = <span class="ruby-identifier">sexp</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-column">
            
              <b>column</b>()
            
            <a href="../../classes/Opal/Fragment.html#method-i-column" name="method-i-column" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-column_source')" id="l_method-i-column_source">show</a>
                
                  | <a href="https://github.com/opal/opal/blob/c7ba09bf9616f2998b1b545f9e438b731bfa386c/lib/opal/fragment.rb#L37" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-column_source" class="dyn-source">
                <pre><span class="ruby-comment"># File opal/lib/opal/fragment.rb, line 37</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">column</span>
  <span class="ruby-ivar">@sexp</span>.<span class="ruby-identifier">column</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@sexp</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inspect">
            
              <b>inspect</b>()
            
            <a href="../../classes/Opal/Fragment.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p><a href="Fragment.html#method-i-inspect">#inspect</a> the contents of this
fragment, f(“fooo”)</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-inspect_source')" id="l_method-i-inspect_source">show</a>
                
                  | <a href="https://github.com/opal/opal/blob/c7ba09bf9616f2998b1b545f9e438b731bfa386c/lib/opal/fragment.rb#L29" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-inspect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File opal/lib/opal/fragment.rb, line 29</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inspect</span>
  <span class="ruby-node">&quot;f(#{@code.inspect})&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-line">
            
              <b>line</b>()
            
            <a href="../../classes/Opal/Fragment.html#method-i-line" name="method-i-line" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-line_source')" id="l_method-i-line_source">show</a>
                
                  | <a href="https://github.com/opal/opal/blob/c7ba09bf9616f2998b1b545f9e438b731bfa386c/lib/opal/fragment.rb#L33" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-line_source" class="dyn-source">
                <pre><span class="ruby-comment"># File opal/lib/opal/fragment.rb, line 33</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">line</span>
  <span class="ruby-ivar">@sexp</span>.<span class="ruby-identifier">line</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@sexp</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_code">
            
              <b>to_code</b>()
            
            <a href="../../classes/Opal/Fragment.html#method-i-to_code" name="method-i-to_code" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>In debug mode we may wish to include the original <a
href="Fragment.html#method-i-line">#line</a> as a comment</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-to_code_source')" id="l_method-i-to_code_source">show</a>
                
                  | <a href="https://github.com/opal/opal/blob/c7ba09bf9616f2998b1b545f9e438b731bfa386c/lib/opal/fragment.rb#L17" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_code_source" class="dyn-source">
                <pre><span class="ruby-comment"># File opal/lib/opal/fragment.rb, line 17</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_code</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@sexp</span>
    <span class="ruby-node">&quot;/*:#{@sexp.line}:#{@sexp.column}*/#{@code}&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@code</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    