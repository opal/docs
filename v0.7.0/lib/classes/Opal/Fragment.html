<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Opal::Fragment</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            Opal::Fragment 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/opal/lib/opal/fragment_rb.html">opal/lib/opal/fragment.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>A fragment holds a string of generated javascript that will be written to
the destination. It also keeps hold of the original sexp from which it was
generated. Using this sexp, when writing fragments in order, a mapping can
be created of the original location =&gt; target location, aka,
source-maps!</p>

<p>These are generated by nodes, so will not have to create directly.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-column">column</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-line">line</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-to_code">to_code</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>code</td>
            <td class='attr-desc'><p>String of javascript this fragment holds @return [String]</p></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>(code, sexp = nil)
            
            <a href="../../classes/Opal/Fragment.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Create fragment with javascript <a
href="Fragment.html#attribute-i-code">#code</a> and optional original
[Opal::Sexp].</p>

<p>@param <a href="Fragment.html#attribute-i-code">#code</a> [String]
javascript <a href="Fragment.html#attribute-i-code">#code</a> @param sexp
[Opal::Sexp] sexp used for creating fragment</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
                  | <a href="https://github.com/opal/opal/blob/016887a729c2b568e302aee183ee9d52de9e569b/lib/opal/fragment.rb#L18" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File opal/lib/opal/fragment.rb, line 18</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">code</span>, <span class="ruby-identifier">sexp</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-ivar">@code</span> = <span class="ruby-identifier">code</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-ivar">@sexp</span> = <span class="ruby-identifier">sexp</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-column">
            
              <b>column</b>()
            
            <a href="../../classes/Opal/Fragment.html#method-i-column" name="method-i-column" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Original <a href="Fragment.html#method-i-column">#column</a> this fragment
was created from @return [Integer, nil]</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-column_source')" id="l_method-i-column_source">show</a>
                
                  | <a href="https://github.com/opal/opal/blob/016887a729c2b568e302aee183ee9d52de9e569b/lib/opal/fragment.rb#L49" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-column_source" class="dyn-source">
                <pre><span class="ruby-comment"># File opal/lib/opal/fragment.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">column</span>
  <span class="ruby-ivar">@sexp</span>.<span class="ruby-identifier">column</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@sexp</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inspect">
            
              <b>inspect</b>()
            
            <a href="../../classes/Opal/Fragment.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Inspect the contents of this fragment, f(“fooo”)</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-inspect_source')" id="l_method-i-inspect_source">show</a>
                
                  | <a href="https://github.com/opal/opal/blob/016887a729c2b568e302aee183ee9d52de9e569b/lib/opal/fragment.rb#L37" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-inspect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File opal/lib/opal/fragment.rb, line 37</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inspect</span>
  <span class="ruby-node">&quot;f(#{@code.inspect})&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-line">
            
              <b>line</b>()
            
            <a href="../../classes/Opal/Fragment.html#method-i-line" name="method-i-line" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Original <a href="Fragment.html#method-i-line">#line</a> this fragment was
created from @return [Integer, nil]</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-line_source')" id="l_method-i-line_source">show</a>
                
                  | <a href="https://github.com/opal/opal/blob/016887a729c2b568e302aee183ee9d52de9e569b/lib/opal/fragment.rb#L43" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-line_source" class="dyn-source">
                <pre><span class="ruby-comment"># File opal/lib/opal/fragment.rb, line 43</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">line</span>
  <span class="ruby-ivar">@sexp</span>.<span class="ruby-identifier">line</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@sexp</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_code">
            
              <b>to_code</b>()
            
            <a href="../../classes/Opal/Fragment.html#method-i-to_code" name="method-i-to_code" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>In debug mode we may wish to include the original <a
href="Fragment.html#method-i-line">#line</a> and comment in a javascript
comment.</p>

<p>@deprecated</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-to_code_source')" id="l_method-i-to_code_source">show</a>
                
                  | <a href="https://github.com/opal/opal/blob/016887a729c2b568e302aee183ee9d52de9e569b/lib/opal/fragment.rb#L28" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-to_code_source" class="dyn-source">
                <pre><span class="ruby-comment"># File opal/lib/opal/fragment.rb, line 28</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_code</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@sexp</span>
    <span class="ruby-node">&quot;/*:#{@sexp.line}:#{@sexp.column}*/#{@code}&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@code</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    