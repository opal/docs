<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>basic.js</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../../../../../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../../../../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../../../../../../css/github.css" type="text/css" media="screen" />
<script src="../../../../../../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../../../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            basic.js
        </h1>
        <ul class="files">
            <li>opal/stdlib/nodejs/node_modules/glob/node_modules/minimatch/test/basic.js</li>
            <li>Last modified: 2015-08-29 16:13:52 +0200</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>// <a
href="http://www.bashcookbook.com/bashinfo/source/bash-1.14.7/tests/glob-test">www.bashcookbook.com/bashinfo/source/bash-1.14.7/tests/glob-test</a>
// // TODO: Some of these tests do very bad things with backslashes, and
will // most likely fail badly on windows.  They should probably be
skipped.</p>

<p>var tap = require(“tap”)</p>

<pre><code>, globalBefore = Object.keys(global)
, mm = require(&quot;../&quot;)
, files = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;abc&quot;
          , &quot;abd&quot;, &quot;abe&quot;, &quot;bb&quot;, &quot;bcd&quot;
          , &quot;ca&quot;, &quot;cb&quot;, &quot;dd&quot;, &quot;de&quot;
          , &quot;bdir/&quot;, &quot;bdir/cfile&quot;]
, next = files.concat([ &quot;a-b&quot;, &quot;aXb&quot;
                      , &quot;.x&quot;, &quot;.y&quot; ])</code></pre>

<p>var patterns =</p>

<pre><code>[ &quot;http://www.bashcookbook.com/bashinfo/source/bash-1.14.7/tests/glob-test&quot;
, [&quot;a*&quot;, [&quot;a&quot;, &quot;abc&quot;, &quot;abd&quot;, &quot;abe&quot;]]
, [&quot;X*&quot;, [&quot;X*&quot;], {nonull: true}]

// allow null glob expansion
, [&quot;X*&quot;, []]

// isaacs: Slightly different than bash/sh/ksh
// \\* is not un-escaped to literal &quot;*&quot; in a failed match,
// but it does make it get treated as a literal star
, [&quot;\\*&quot;, [&quot;\\*&quot;], {nonull: true}]
, [&quot;\\**&quot;, [&quot;\\**&quot;], {nonull: true}]
, [&quot;\\*\\*&quot;, [&quot;\\*\\*&quot;], {nonull: true}]

, [&quot;b  &quot;, [&quot;bdir/&quot;]]
, [&quot;c*&quot;, [&quot;c&quot;, &quot;ca&quot;, &quot;cb&quot;]]
, [&quot;**&quot;, files]

, [&quot;\\.\\.  /&quot;, [&quot;\\.\\.  /&quot;], {nonull: true}]
, [&quot;s/\\..  /&quot;, [&quot;s/\\..*//&quot;], {nonull: true}]

, &quot;legendary larry crashes bashes&quot;
, [&quot;/^root:/{s/^[^:]*:[^:]*:\([^:]*\).*$/\\1/&quot;
  , [&quot;/^root:/{s/^[^:]*:[^:]*:\([^:]*\).*$/\\1/&quot;], {nonull: true}]
, [&quot;/^root:/{s/^[^:]*:[^:]*:\([^:]*\).*$/\1/&quot;
  , [&quot;/^root:/{s/^[^:]*:[^:]*:\([^:]*\).*$/\1/&quot;], {nonull: true}]

, &quot;character classes&quot;
, [&quot;[a-c]b*&quot;, [&quot;abc&quot;, &quot;abd&quot;, &quot;abe&quot;, &quot;bb&quot;, &quot;cb&quot;]]
, [&quot;[a-y]*[^c]&quot;, [&quot;abd&quot;, &quot;abe&quot;, &quot;bb&quot;, &quot;bcd&quot;,
   &quot;bdir/&quot;, &quot;ca&quot;, &quot;cb&quot;, &quot;dd&quot;, &quot;de&quot;]]
, [&quot;a*[^c]&quot;, [&quot;abd&quot;, &quot;abe&quot;]]
, function () { files.push(&quot;a-b&quot;, &quot;aXb&quot;) }
, [&quot;a[X-]b&quot;, [&quot;a-b&quot;, &quot;aXb&quot;]]
, function () { files.push(&quot;.x&quot;, &quot;.y&quot;) }
, [&quot;[^a-c]*&quot;, [&quot;d&quot;, &quot;dd&quot;, &quot;de&quot;]]
, function () { files.push(&quot;a*b/&quot;, &quot;a*b/ooo&quot;) }
, [&quot;a\\*b/*&quot;, [&quot;a*b/ooo&quot;]]
, [&quot;a\\*?/*&quot;, [&quot;a*b/ooo&quot;]]
, [&quot;*\\\\!*&quot;, [], {null: true}, [&quot;echo !7&quot;]]
, [&quot;*\\!*&quot;, [&quot;echo !7&quot;], null, [&quot;echo !7&quot;]]
, [&quot;*.\\*&quot;, [&quot;r.*&quot;], null, [&quot;r.*&quot;]]
, [&quot;a[b]c&quot;, [&quot;abc&quot;]]
, [&quot;a[\\b]c&quot;, [&quot;abc&quot;]]
, [&quot;a?c&quot;, [&quot;abc&quot;]]
, [&quot;a\\*c&quot;, [], {null: true}, [&quot;abc&quot;]]
, [&quot;&quot;, [&quot;&quot;], { null: true }, [&quot;&quot;]]

, &quot;http://www.opensource.apple.com/source/bash/bash-23/&quot; +
  &quot;bash/tests/glob-test&quot;
, function () { files.push(&quot;man/&quot;, &quot;man/man1/&quot;, &quot;man/man1/bash.1&quot;) }
, [&quot;*/man*/bash.*&quot;, [&quot;man/man1/bash.1&quot;]]
, [&quot;man/man1/bash.1&quot;, [&quot;man/man1/bash.1&quot;]]
, [&quot;a***c&quot;, [&quot;abc&quot;], null, [&quot;abc&quot;]]
, [&quot;a*****?c&quot;, [&quot;abc&quot;], null, [&quot;abc&quot;]]
, [&quot;?*****??&quot;, [&quot;abc&quot;], null, [&quot;abc&quot;]]
, [&quot;*****??&quot;, [&quot;abc&quot;], null, [&quot;abc&quot;]]
, [&quot;?*****?c&quot;, [&quot;abc&quot;], null, [&quot;abc&quot;]]
, [&quot;?***?****c&quot;, [&quot;abc&quot;], null, [&quot;abc&quot;]]
, [&quot;?***?****?&quot;, [&quot;abc&quot;], null, [&quot;abc&quot;]]
, [&quot;?***?****&quot;, [&quot;abc&quot;], null, [&quot;abc&quot;]]
, [&quot;*******c&quot;, [&quot;abc&quot;], null, [&quot;abc&quot;]]
, [&quot;*******?&quot;, [&quot;abc&quot;], null, [&quot;abc&quot;]]
, [&quot;a*cd**?**??k&quot;, [&quot;abcdecdhjk&quot;], null, [&quot;abcdecdhjk&quot;]]
, [&quot;a**?**cd**?**??k&quot;, [&quot;abcdecdhjk&quot;], null, [&quot;abcdecdhjk&quot;]]
, [&quot;a**?**cd**?**??k***&quot;, [&quot;abcdecdhjk&quot;], null, [&quot;abcdecdhjk&quot;]]
, [&quot;a**?**cd**?**??***k&quot;, [&quot;abcdecdhjk&quot;], null, [&quot;abcdecdhjk&quot;]]
, [&quot;a**?**cd**?**??***k**&quot;, [&quot;abcdecdhjk&quot;], null, [&quot;abcdecdhjk&quot;]]
, [&quot;a****c**?**??*****&quot;, [&quot;abcdecdhjk&quot;], null, [&quot;abcdecdhjk&quot;]]
, [&quot;[-abc]&quot;, [&quot;-&quot;], null, [&quot;-&quot;]]
, [&quot;[abc-]&quot;, [&quot;-&quot;], null, [&quot;-&quot;]]
, [&quot;\\&quot;, [&quot;\\&quot;], null, [&quot;\\&quot;]]
, [&quot;[\\\\]&quot;, [&quot;\\&quot;], null, [&quot;\\&quot;]]
, [&quot;[[]&quot;, [&quot;[&quot;], null, [&quot;[&quot;]]
, [&quot;[&quot;, [&quot;[&quot;], null, [&quot;[&quot;]]
, [&quot;[*&quot;, [&quot;[abc&quot;], null, [&quot;[abc&quot;]]
, &quot;a right bracket shall lose its special meaning and\n&quot; +
  &quot;represent itself in a bracket expression if it occurs\n&quot; +
  &quot;first in the list.  -- POSIX.2 2.8.3.2&quot;
, [&quot;[]]&quot;, [&quot;]&quot;], null, [&quot;]&quot;]]
, [&quot;[]-]&quot;, [&quot;]&quot;], null, [&quot;]&quot;]]
, [&quot;[a-\z]&quot;, [&quot;p&quot;], null, [&quot;p&quot;]]
, [&quot;??**********?****?&quot;, [], { null: true }, [&quot;abc&quot;]]
, [&quot;??**********?****c&quot;, [], { null: true }, [&quot;abc&quot;]]
, [&quot;?************c****?****&quot;, [], { null: true }, [&quot;abc&quot;]]
, [&quot;*c*?**&quot;, [], { null: true }, [&quot;abc&quot;]]
, [&quot;a*****c*?**&quot;, [], { null: true }, [&quot;abc&quot;]]
, [&quot;a********???*******&quot;, [], { null: true }, [&quot;abc&quot;]]
, [&quot;[]&quot;, [], { null: true }, [&quot;a&quot;]]
, [&quot;[abc&quot;, [], { null: true }, [&quot;[&quot;]]

, &quot;nocase tests&quot;
, [&quot;XYZ&quot;, [&quot;xYz&quot;], { nocase: true, null: true }
  , [&quot;xYz&quot;, &quot;ABC&quot;, &quot;IjK&quot;]]
, [&quot;ab*&quot;, [&quot;ABC&quot;], { nocase: true, null: true }
  , [&quot;xYz&quot;, &quot;ABC&quot;, &quot;IjK&quot;]]
, [&quot;[ia]?[ck]&quot;, [&quot;ABC&quot;, &quot;IjK&quot;], { nocase: true, null: true }
  , [&quot;xYz&quot;, &quot;ABC&quot;, &quot;IjK&quot;]]

// [ pattern, [matches], MM opts, files, TAP opts]
, &quot;onestar/twostar&quot;
, [&quot;{/*,*}&quot;, [], {null: true}, [&quot;/asdf/asdf/asdf&quot;]]
, [&quot;{/?,*}&quot;, [&quot;/a&quot;, &quot;bb&quot;], {null: true}
  , [&quot;/a&quot;, &quot;/b/b&quot;, &quot;/a/b/c&quot;, &quot;bb&quot;]]

, &quot;dots should not match unless requested&quot;
, [&quot;**&quot;, [&quot;a/b&quot;], {}, [&quot;a/b&quot;, &quot;a/.d&quot;, &quot;.a/.d&quot;]]

// .. and . can only match patterns starting with .,
// even when options.dot is set.
, function () {
    files = [&quot;a/./b&quot;, &quot;a/../b&quot;, &quot;a/c/b&quot;, &quot;a/.d/b&quot;]
  }
, [&quot;a/*/b&quot;, [&quot;a/c/b&quot;, &quot;a/.d/b&quot;], {dot: true}]
, [&quot;a/.*/b&quot;, [&quot;a/./b&quot;, &quot;a/../b&quot;, &quot;a/.d/b&quot;], {dot: true}]
, [&quot;a/*/b&quot;, [&quot;a/c/b&quot;], {dot:false}]
, [&quot;a/.*/b&quot;, [&quot;a/./b&quot;, &quot;a/../b&quot;, &quot;a/.d/b&quot;], {dot: false}]

// this also tests that changing the options needs
// to change the cache key, even if the pattern is
// the same!
, [&quot;**&quot;, [&quot;a/b&quot;,&quot;a/.d&quot;,&quot;.a/.d&quot;], { dot: true }
  , [ &quot;.a/.d&quot;, &quot;a/.d&quot;, &quot;a/b&quot;]]

, &quot;paren sets cannot contain slashes&quot;
, [&quot;*(a/b)&quot;, [&quot;*(a/b)&quot;], {nonull: true}, [&quot;a/b&quot;]]

// brace sets trump all else.
//
// invalid glob pattern.  fails on bash4 and bsdglob.
// however, in this implementation, it&#39;s easier just
// to do the intuitive thing, and let brace-expansion
// actually come before parsing any extglob patterns,
// like the documentation seems to say.
//
// XXX: if anyone complains about this, either fix it
// or tell them to grow up and stop complaining.
//
// bash/bsdglob says this:
// , [&quot;*(a|{b),c)}&quot;, [&quot;*(a|{b),c)}&quot;], {}, [&quot;a&quot;, &quot;ab&quot;, &quot;ac&quot;, &quot;ad&quot;]]
// but we do this instead:
, [&quot;*(a|{b),c)}&quot;, [&quot;a&quot;, &quot;ab&quot;, &quot;ac&quot;], {}, [&quot;a&quot;, &quot;ab&quot;, &quot;ac&quot;, &quot;ad&quot;]]

// test partial parsing in the presence of comment/negation chars
, [&quot;[!a*&quot;, [&quot;[!ab&quot;], {}, [&quot;[!ab&quot;, &quot;[ab&quot;]]
, [&quot;[#a*&quot;, [&quot;[#ab&quot;], {}, [&quot;[#ab&quot;, &quot;[ab&quot;]]

// like: {a,b|c\\,d\\\|e} except it&#39;s unclosed, so it has to be escaped.
, [&quot;+(a|*\\|c\\\\|d\\\\\\|e\\\\\\\\|f\\\\\\\\\\|g&quot;
  , [&quot;+(a|b\\|c\\\\|d\\\\|e\\\\\\\\|f\\\\\\\\|g&quot;]
  , {}
  , [&quot;+(a|b\\|c\\\\|d\\\\|e\\\\\\\\|f\\\\\\\\|g&quot;, &quot;a&quot;, &quot;b\\c&quot;]]

// crazy nested {,,} and *(||) tests.
, function () {
    files = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;
            , &quot;ab&quot;, &quot;ac&quot;, &quot;ad&quot;
            , &quot;bc&quot;, &quot;cb&quot;
            , &quot;bc,d&quot;, &quot;c,db&quot;, &quot;c,d&quot;
            , &quot;d)&quot;, &quot;(b|c&quot;, &quot;*(b|c&quot;
            , &quot;b|c&quot;, &quot;b|cc&quot;, &quot;cb|c&quot;
            , &quot;x(a|b|c)&quot;, &quot;x(a|c)&quot;
            , &quot;(a|b|c)&quot;, &quot;(a|c)&quot;]
  }
, [&quot;*(a|{b,c})&quot;, [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;ab&quot;, &quot;ac&quot;]]
, [&quot;{a,*(b|c,d)}&quot;, [&quot;a&quot;,&quot;(b|c&quot;, &quot;*(b|c&quot;, &quot;d)&quot;]]
// a
// *(b|c)
// *(b|d)
, [&quot;{a,*(b|{c,d})}&quot;, [&quot;a&quot;,&quot;b&quot;, &quot;bc&quot;, &quot;cb&quot;, &quot;c&quot;, &quot;d&quot;]]
, [&quot;*(a|{b|c,c})&quot;, [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;ab&quot;, &quot;ac&quot;, &quot;bc&quot;, &quot;cb&quot;]]

// test various flag settings.
, [ &quot;*(a|{b|c,c})&quot;, [&quot;x(a|b|c)&quot;, &quot;x(a|c)&quot;, &quot;(a|b|c)&quot;, &quot;(a|c)&quot;]
  , { noext: true } ]
, [&quot;a?b&quot;, [&quot;x/y/acb&quot;, &quot;acb/&quot;], {matchBase: true}
  , [&quot;x/y/acb&quot;, &quot;acb/&quot;, &quot;acb/d/e&quot;, &quot;x/y/acb/d&quot;] ]
, [&quot;#*&quot;, [&quot;#a&quot;, &quot;#b&quot;], {nocomment: true}, [&quot;#a&quot;, &quot;#b&quot;, &quot;c#d&quot;]]

// begin channelling Boole and deMorgan...
, &quot;negation tests&quot;
, function () {
    files = [&quot;d&quot;, &quot;e&quot;, &quot;!ab&quot;, &quot;!abc&quot;, &quot;a!b&quot;, &quot;\\!a&quot;]
  }

// anything that is NOT a* matches.
, [&quot;!a*&quot;, [&quot;\\!a&quot;, &quot;d&quot;, &quot;e&quot;, &quot;!ab&quot;, &quot;!abc&quot;]]

// anything that IS !a* matches.
, [&quot;!a*&quot;, [&quot;!ab&quot;, &quot;!abc&quot;], {nonegate: true}]

// anything that IS a* matches
, [&quot;!!a*&quot;, [&quot;a!b&quot;]]

// anything that is NOT !a* matches
, [&quot;!\\!a*&quot;, [&quot;a!b&quot;, &quot;d&quot;, &quot;e&quot;, &quot;\\!a&quot;]]

// negation nestled within a pattern
, function () {
    files = [ &quot;foo.js&quot;
            , &quot;foo.bar&quot;
            // can&#39;t match this one without negative lookbehind.
            , &quot;foo.js.js&quot;
            , &quot;blar.js&quot;
            , &quot;foo.&quot;
            , &quot;boo.js.boo&quot; ]
  }
, [&quot;*.!(js)&quot;, [&quot;foo.bar&quot;, &quot;foo.&quot;, &quot;boo.js.boo&quot;] ]

// https://github.com/isaacs/minimatch/issues/5
, function () {
    files = [ &#39;a/b/.x/c&#39;
            , &#39;a/b/.x/c/d&#39;
            , &#39;a/b/.x/c/d/e&#39;
            , &#39;a/b/.x&#39;
            , &#39;a/b/.x/&#39;
            , &#39;a/.x/b&#39;
            , &#39;.x&#39;
            , &#39;.x/&#39;
            , &#39;.x/a&#39;
            , &#39;.x/a/b&#39;
            , &#39;a/.x/b/.x/c&#39;
            , &#39;.x/.x&#39; ]
}
, [&quot;**/.x/**&quot;, [ &#39;.x/&#39;
               , &#39;.x/a&#39;
               , &#39;.x/a/b&#39;
               , &#39;a/.x/b&#39;
               , &#39;a/b/.x/&#39;
               , &#39;a/b/.x/c&#39;
               , &#39;a/b/.x/c/d&#39;
               , &#39;a/b/.x/c/d/e&#39; ] ]

]</code></pre>

<p>var regexps =</p>

<pre><code>[ &#39;/^(?:(?=.)a[^/]*?)$/&#39;,
  &#39;/^(?:(?=.)X[^/]*?)$/&#39;,
  &#39;/^(?:(?=.)X[^/]*?)$/&#39;,
  &#39;/^(?:\\*)$/&#39;,
  &#39;/^(?:(?=.)\\*[^/]*?)$/&#39;,
  &#39;/^(?:\\*\\*)$/&#39;,
  &#39;/^(?:(?=.)b[^/]*?\\/)$/&#39;,
  &#39;/^(?:(?=.)c[^/]*?)$/&#39;,
  &#39;/^(?:(?:(?!(?:\\/|^)\\.).)*?)$/&#39;,
  &#39;/^(?:\\.\\.\\/(?!\\.)(?=.)[^/]*?\\/)$/&#39;,
  &#39;/^(?:s\\/(?=.)\\.\\.[^/]*?\\/)$/&#39;,
  &#39;/^(?:\\/\\^root:\\/\\{s\\/(?=.)\\^[^:][^/]*?:[^:][^/]*?:\\([^:]\\)[^/]*?\\.[^/]*?\\$\\/1\\/)$/&#39;,
  &#39;/^(?:\\/\\^root:\\/\\{s\\/(?=.)\\^[^:][^/]*?:[^:][^/]*?:\\([^:]\\)[^/]*?\\.[^/]*?\\$\\/\u0001\\/)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[a-c]b[^/]*?)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[a-y][^/]*?[^c])$/&#39;,
  &#39;/^(?:(?=.)a[^/]*?[^c])$/&#39;,
  &#39;/^(?:(?=.)a[X-]b)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^a-c][^/]*?)$/&#39;,
  &#39;/^(?:a\\*b\\/(?!\\.)(?=.)[^/]*?)$/&#39;,
  &#39;/^(?:(?=.)a\\*[^/]\\/(?!\\.)(?=.)[^/]*?)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/]*?\\\\\\![^/]*?)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/]*?\\![^/]*?)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/]*?\\.\\*)$/&#39;,
  &#39;/^(?:(?=.)a[b]c)$/&#39;,
  &#39;/^(?:(?=.)a[b]c)$/&#39;,
  &#39;/^(?:(?=.)a[^/]c)$/&#39;,
  &#39;/^(?:a\\*c)$/&#39;,
  &#39;false&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/]*?\\/(?=.)man[^/]*?\\/(?=.)bash\\.[^/]*?)$/&#39;,
  &#39;/^(?:man\\/man1\\/bash\\.1)$/&#39;,
  &#39;/^(?:(?=.)a[^/]*?[^/]*?[^/]*?c)$/&#39;,
  &#39;/^(?:(?=.)a[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]c)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/][^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/][^/])$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/][^/])$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/][^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]c)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/][^/]*?[^/]*?[^/]*?[^/][^/]*?[^/]*?[^/]*?[^/]*?c)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/][^/]*?[^/]*?[^/]*?[^/][^/]*?[^/]*?[^/]*?[^/]*?[^/])$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/][^/]*?[^/]*?[^/]*?[^/][^/]*?[^/]*?[^/]*?[^/]*?)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?c)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/])$/&#39;,
  &#39;/^(?:(?=.)a[^/]*?cd[^/]*?[^/]*?[^/][^/]*?[^/]*?[^/][^/]k)$/&#39;,
  &#39;/^(?:(?=.)a[^/]*?[^/]*?[^/][^/]*?[^/]*?cd[^/]*?[^/]*?[^/][^/]*?[^/]*?[^/][^/]k)$/&#39;,
  &#39;/^(?:(?=.)a[^/]*?[^/]*?[^/][^/]*?[^/]*?cd[^/]*?[^/]*?[^/][^/]*?[^/]*?[^/][^/]k[^/]*?[^/]*?[^/]*?)$/&#39;,
  &#39;/^(?:(?=.)a[^/]*?[^/]*?[^/][^/]*?[^/]*?cd[^/]*?[^/]*?[^/][^/]*?[^/]*?[^/][^/][^/]*?[^/]*?[^/]*?k)$/&#39;,
  &#39;/^(?:(?=.)a[^/]*?[^/]*?[^/][^/]*?[^/]*?cd[^/]*?[^/]*?[^/][^/]*?[^/]*?[^/][^/][^/]*?[^/]*?[^/]*?k[^/]*?[^/]*?)$/&#39;,
  &#39;/^(?:(?=.)a[^/]*?[^/]*?[^/]*?[^/]*?c[^/]*?[^/]*?[^/][^/]*?[^/]*?[^/][^/][^/]*?[^/]*?[^/]*?[^/]*?[^/]*?)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[-abc])$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[abc-])$/&#39;,
  &#39;/^(?:\\\\)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[\\\\])$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[\\[])$/&#39;,
  &#39;/^(?:\\[)$/&#39;,
  &#39;/^(?:(?=.)\\[(?!\\.)(?=.)[^/]*?)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[\\]])$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[\\]-])$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[a-z])$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/][^/][^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/][^/]*?[^/]*?[^/]*?[^/]*?[^/])$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/][^/][^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/][^/]*?[^/]*?[^/]*?[^/]*?c)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/][^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?c[^/]*?[^/]*?[^/]*?[^/]*?[^/][^/]*?[^/]*?[^/]*?[^/]*?)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/]*?c[^/]*?[^/][^/]*?[^/]*?)$/&#39;,
  &#39;/^(?:(?=.)a[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?c[^/]*?[^/][^/]*?[^/]*?)$/&#39;,
  &#39;/^(?:(?=.)a[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/][^/][^/][^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?[^/]*?)$/&#39;,
  &#39;/^(?:\\[\\])$/&#39;,
  &#39;/^(?:\\[abc)$/&#39;,
  &#39;/^(?:(?=.)XYZ)$/i&#39;,
  &#39;/^(?:(?=.)ab[^/]*?)$/i&#39;,
  &#39;/^(?:(?!\\.)(?=.)[ia][^/][ck])$/i&#39;,
  &#39;/^(?:\\/(?!\\.)(?=.)[^/]*?|(?!\\.)(?=.)[^/]*?)$/&#39;,
  &#39;/^(?:\\/(?!\\.)(?=.)[^/]|(?!\\.)(?=.)[^/]*?)$/&#39;,
  &#39;/^(?:(?:(?!(?:\\/|^)\\.).)*?)$/&#39;,
  &#39;/^(?:a\\/(?!(?:^|\\/)\\.{1,2}(?:$|\\/))(?=.)[^/]*?\\/b)$/&#39;,
  &#39;/^(?:a\\/(?=.)\\.[^/]*?\\/b)$/&#39;,
  &#39;/^(?:a\\/(?!\\.)(?=.)[^/]*?\\/b)$/&#39;,
  &#39;/^(?:a\\/(?=.)\\.[^/]*?\\/b)$/&#39;,
  &#39;/^(?:(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/]*?\\(a\\/b\\))$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)(?:a|b)*|(?!\\.)(?=.)(?:a|c)*)$/&#39;,
  &#39;/^(?:(?=.)\\[(?=.)\\!a[^/]*?)$/&#39;,
  &#39;/^(?:(?=.)\\[(?=.)#a[^/]*?)$/&#39;,
  &#39;/^(?:(?=.)\\+\\(a\\|[^/]*?\\|c\\\\\\\\\\|d\\\\\\\\\\|e\\\\\\\\\\\\\\\\\\|f\\\\\\\\\\\\\\\\\\|g)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)(?:a|b)*|(?!\\.)(?=.)(?:a|c)*)$/&#39;,
  &#39;/^(?:a|(?!\\.)(?=.)[^/]*?\\(b\\|c|d\\))$/&#39;,
  &#39;/^(?:a|(?!\\.)(?=.)(?:b|c)*|(?!\\.)(?=.)(?:b|d)*)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)(?:a|b|c)*|(?!\\.)(?=.)(?:a|c)*)$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/]*?\\(a\\|b\\|c\\)|(?!\\.)(?=.)[^/]*?\\(a\\|c\\))$/&#39;,
  &#39;/^(?:(?=.)a[^/]b)$/&#39;,
  &#39;/^(?:(?=.)#[^/]*?)$/&#39;,
  &#39;/^(?!^(?:(?=.)a[^/]*?)$).*$/&#39;,
  &#39;/^(?:(?=.)\\!a[^/]*?)$/&#39;,
  &#39;/^(?:(?=.)a[^/]*?)$/&#39;,
  &#39;/^(?!^(?:(?=.)\\!a[^/]*?)$).*$/&#39;,
  &#39;/^(?:(?!\\.)(?=.)[^/]*?\\.(?:(?!js)[^/]*?))$/&#39;,
  &#39;/^(?:(?:(?!(?:\\/|^)\\.).)*?\\/\\.x\\/(?:(?!(?:\\/|^)\\.).)*?)$/&#39; ]
</code></pre>

<p>var re = 0;</p>

<p>tap.test(“basic tests”, function (t) {</p>

<pre><code>var start = Date.now()

// [ pattern, [matches], MM opts, files, TAP opts]
patterns.forEach(function (c) {
  if (typeof c === &quot;function&quot;) return c()
  if (typeof c === &quot;string&quot;) return t.comment(c)

  var pattern = c[0]
    , expect = c[1].sort(alpha)
    , options = c[2] || {}
    , f = c[3] || files
    , tapOpts = c[4] || {}

  // options.debug = true
  var m = new mm.Minimatch(pattern, options)
  var r = m.makeRe()
  var expectRe = regexps[re++]
  tapOpts.re = String(r) || JSON.stringify(r)
  tapOpts.files = JSON.stringify(f)
  tapOpts.pattern = pattern
  tapOpts.set = m.set
  tapOpts.negated = m.negate

  var actual = mm.match(f, pattern, options)
  actual.sort(alpha)

  t.equivalent( actual, expect
              , JSON.stringify(pattern) + &quot; &quot; + JSON.stringify(expect)
              , tapOpts )

  t.equal(tapOpts.re, expectRe, null, tapOpts)
})

t.comment(&quot;time=&quot; + (Date.now() - start) + &quot;ms&quot;)
t.end()</code></pre>

<p>})</p>

<p>tap.test(“global leak test”, function (t) {</p>

<pre><code>var globalAfter = Object.keys(global)
t.equivalent(globalAfter, globalBefore, &quot;no new globals, please&quot;)
t.end()
</code></pre>

<p>})</p>

<p>function alpha (a, b) {</p>

<pre><code>return a &gt; b ? 1 : -1
</code></pre>

<p>}</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>

    </div>
  </body>
</html>
